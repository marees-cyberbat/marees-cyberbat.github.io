(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,n){},107:function(e,n){},116:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),r=t(48),i=t.n(r),u=(t(58),t(4)),o=t(13),l=(t(59),t(49)),s=t.n(l),f=t(21),m=t.n(f),b=t(14);function d(){var e=Object(o.a)(["\n  border: 1px solid blue;\n  width: 50%;\n  height: 50%;\n"]);return d=function(){return e},e}function j(){var e=Object(o.a)(["\n  display: flex;\n  width: 100%;\n"]);return j=function(){return e},e}function O(){var e=Object(o.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return O=function(){return e},e}var v=b.a.div(O()),g=b.a.div(j()),h=b.a.video(d());var p=function(){var e,n,t,r=Object(c.useState)(""),i=Object(u.a)(r,2),o=i[0],l=i[1],f=Object(c.useState)({}),b=Object(u.a)(f,2),d=b[0],j=b[1],O=Object(c.useState)(),p=Object(u.a)(O,2),E=p[0],w=p[1],y=Object(c.useState)(!1),k=Object(u.a)(y,2),S=k[0],x=k[1],C=Object(c.useState)(""),I=Object(u.a)(C,2),D=I[0],R=I[1],U=Object(c.useState)(),A=Object(u.a)(U,2),B=A[0],J=A[1],M=Object(c.useState)(!1),P=Object(u.a)(M,2),W=P[0],T=P[1],$=Object(c.useRef)(),q=Object(c.useRef)(),z=Object(c.useRef)();return Object(c.useEffect)((function(){z.current=s.a.connect("/"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){w(e),$.current&&($.current.srcObject=e)})),z.current.on("yourID",(function(e){l(e)})),z.current.on("allUsers",(function(e){j(e)})),z.current.on("hey",(function(e){x(!0),R(e.from),J(e.signal)}))}),[]),E&&(e=a.a.createElement(h,{playsInline:!0,muted:!0,ref:$,autoPlay:!0})),W&&(n=a.a.createElement(h,{playsInline:!0,ref:q,autoPlay:!0})),S&&(t=a.a.createElement("div",null,a.a.createElement("h1",null,D," is calling you"),a.a.createElement("button",{onClick:function(){T(!0);var e=new m.a({initiator:!1,trickle:!1,stream:E});e.on("signal",(function(e){z.current.emit("acceptCall",{signal:e,to:D})})),e.on("stream",(function(e){q.current.srcObject=e})),e.signal(B)}},"Accept"))),a.a.createElement(v,null,a.a.createElement(g,null,e,n),a.a.createElement(g,null,Object.keys(d).map((function(e){return e===o?null:a.a.createElement("button",{onClick:function(){return function(e){var n=new m.a({initiator:!0,trickle:!1,config:{iceServers:[{urls:"stun:numb.viagenie.ca",username:"sultan1640@gmail.com",credential:"98376683"},{urls:"turn:numb.viagenie.ca",username:"sultan1640@gmail.com",credential:"98376683"}]},stream:E});n.on("signal",(function(n){z.current.emit("callUser",{userToCall:e,signalData:n,from:o})})),n.on("stream",(function(e){q.current&&(q.current.srcObject=e)})),z.current.on("callAccepted",(function(e){T(!0),n.signal(e)}))}(e)}},"Call ",e)}))),a.a.createElement(g,null,t))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,n,t){e.exports=t(116)},58:function(e,n,t){},59:function(e,n,t){},89:function(e,n){}},[[53,1,2]]]);
//# sourceMappingURL=main.f1484bd0.chunk.js.map